{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'Register',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const username = ref('');\n    const password = ref('');\n    const confirmPassword = ref('');\n    const name = ref('');\n    const lastName = ref('');\n    const gender = ref('Male');\n    const birthDate = ref('');\n    const errors = ref({});\n    function validateUsername() {\n      if (!username.value) {\n        errors.value.username = 'Username is required';\n      } else {\n        errors.value.username = '';\n      }\n    }\n    function validatePassword() {\n      if (!password.value) {\n        errors.value.password = 'Password is required';\n      } else if (password.value !== confirmPassword.value) {\n        errors.value.confirmPassword = 'Passwords do not match';\n      } else {\n        errors.value.password = '';\n        errors.value.confirmPassword = '';\n      }\n    }\n    function validateName() {\n      if (!name.value) {\n        errors.value.name = 'Name is required';\n      } else {\n        errors.value.name = '';\n      }\n    }\n    function validateLastName() {\n      if (!lastName.value) {\n        errors.value.lastName = 'Last Name is required';\n      } else {\n        errors.value.lastName = '';\n      }\n    }\n    function validateBirthDate() {\n      if (!birthDate.value) {\n        errors.value.birthDate = 'Date of Birth is required';\n      } else {\n        errors.value.birthDate = '';\n      }\n    }\n    function register() {\n      validateUsername();\n      validatePassword();\n      validateName();\n      validateLastName();\n      validateBirthDate();\n      if (errors.value.username || errors.value.password || errors.value.confirmPassword || errors.value.name || errors.value.lastName || errors.value.birthDate) {\n        return;\n      }\n      const userToRegister = {\n        username: username.value,\n        password: password.value,\n        name: name.value,\n        lastName: lastName.value,\n        gender: gender.value,\n        birthDate: birthDate.value\n      };\n      axios.post('http://localhost:3001/api/signup', userToRegister).then(response => {\n        router.push('/login');\n      }).catch(error => {\n        if (error.response && error.response.data.error === 'Username already exists') {\n          errors.value.username = 'Username already taken';\n        } else {\n          console.error('There was an error registering!', error);\n        }\n      });\n    }\n    const __returned__ = {\n      router,\n      username,\n      password,\n      confirmPassword,\n      name,\n      lastName,\n      gender,\n      birthDate,\n      errors,\n      validateUsername,\n      validatePassword,\n      validateName,\n      validateLastName,\n      validateBirthDate,\n      register,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","useRouter","router","username","password","confirmPassword","name","lastName","gender","birthDate","errors","validateUsername","value","validatePassword","validateName","validateLastName","validateBirthDate","register","userToRegister","post","then","response","push","catch","error","data","console"],"sources":["C:/FTN/treca/drugi_sem/veb/chocolate-factoryapp/Frontend/front-app/src/components/Register.vue"],"sourcesContent":["<template>\r\n    <form @submit.prevent=\"register\" class=\"register-form\">\r\n      <h2>Please enter your credentials to register</h2>\r\n      <div>\r\n        <label>Username:</label>\r\n        <input type=\"text\" v-model=\"username\" placeholder=\"Username\" @blur=\"validateUsername\"/>\r\n        <span v-if=\"errors.username\" class=\"error\">{{ errors.username }}</span>\r\n      </div>\r\n      <div>\r\n        <label>Password:</label>\r\n        <input type=\"password\" v-model=\"password\" @input=\"validatePassword\"/>\r\n        <span v-if=\"errors.password\" class=\"error\">{{ errors.password }}</span>\r\n      </div>\r\n      <div>\r\n        <label>Confirm Password:</label>\r\n        <input type=\"password\" v-model=\"confirmPassword\" @input=\"validatePassword\"/>\r\n        <span v-if=\"errors.confirmPassword\" class=\"error\">{{ errors.confirmPassword }}</span>\r\n      </div>\r\n      <div>\r\n        <label>Name:</label>\r\n        <input type=\"text\" v-model=\"name\" placeholder=\"Name\" @blur=\"validateName\"/>\r\n        <span v-if=\"errors.name\" class=\"error\">{{ errors.name }}</span>\r\n      </div>\r\n      <div>\r\n        <label>Last Name:</label>\r\n        <input type=\"text\" v-model=\"lastName\" placeholder=\"Lastname\" @blur=\"validateLastName\"/>\r\n        <span v-if=\"errors.lastName\" class=\"error\">{{ errors.lastName }}</span>\r\n      </div>\r\n      <div>\r\n        <label>Gender:</label>\r\n        <select v-model=\"gender\">\r\n          <option value=\"Male\">Male</option>\r\n          <option value=\"Female\">Female</option>\r\n          <option value=\"Other\">Other</option>\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <label>Date of Birth:</label>\r\n        <input type=\"date\" v-model=\"birthDate\" @blur=\"validateBirthDate\"/>\r\n        <span v-if=\"errors.birthDate\" class=\"error\">{{ errors.birthDate }}</span>\r\n      </div>\r\n      <button type=\"submit\">Register</button>\r\n    </form>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref } from 'vue';\r\n  import axios from 'axios';\r\n  import { useRouter } from 'vue-router';\r\n  \r\n  const router = useRouter();\r\n  const username = ref('');\r\n  const password = ref('');\r\n  const confirmPassword = ref('');\r\n  const name = ref('');\r\n  const lastName = ref('');\r\n  const gender = ref('Male');\r\n  const birthDate = ref('');\r\n  const errors = ref({});\r\n  \r\n  function validateUsername() {\r\n    if (!username.value) {\r\n      errors.value.username = 'Username is required';\r\n    } else {\r\n      errors.value.username = '';\r\n    }\r\n  }\r\n  \r\n  function validatePassword() {\r\n    if (!password.value) {\r\n      errors.value.password = 'Password is required';\r\n    } else if (password.value !== confirmPassword.value) {\r\n      errors.value.confirmPassword = 'Passwords do not match';\r\n    } else {\r\n      errors.value.password = '';\r\n      errors.value.confirmPassword = '';\r\n    }\r\n  }\r\n  \r\n  function validateName() {\r\n    if (!name.value) {\r\n      errors.value.name = 'Name is required';\r\n    } else {\r\n      errors.value.name = '';\r\n    }\r\n  }\r\n  \r\n  function validateLastName() {\r\n    if (!lastName.value) {\r\n      errors.value.lastName = 'Last Name is required';\r\n    } else {\r\n      errors.value.lastName = '';\r\n    }\r\n  }\r\n  \r\n  function validateBirthDate() {\r\n    if (!birthDate.value) {\r\n      errors.value.birthDate = 'Date of Birth is required';\r\n    } else {\r\n      errors.value.birthDate = '';\r\n    }\r\n  }\r\n  \r\n  function register() {\r\n    validateUsername();\r\n    validatePassword();\r\n    validateName();\r\n    validateLastName();\r\n    validateBirthDate();\r\n  \r\n    if (\r\n      errors.value.username ||\r\n      errors.value.password ||\r\n      errors.value.confirmPassword ||\r\n      errors.value.name ||\r\n      errors.value.lastName ||\r\n      errors.value.birthDate\r\n    ) {\r\n      return;\r\n    }\r\n  \r\n    const userToRegister = {\r\n      username: username.value,\r\n      password: password.value,\r\n      name: name.value,\r\n      lastName: lastName.value,\r\n      gender: gender.value,\r\n      birthDate: birthDate.value,\r\n    };\r\n  \r\n    axios\r\n      .post('http://localhost:3001/api/signup', userToRegister)\r\n      .then((response) => {\r\n        router.push('/login');\r\n      })\r\n      .catch((error) => {\r\n        if (error.response && error.response.data.error === 'Username already exists') {\r\n          errors.value.username = 'Username already taken';\r\n        } else {\r\n          console.error('There was an error registering!', error);\r\n        }\r\n      });\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .register-form {\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n    background-color: #f5f5f5;\r\n    border-radius: 10px;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .register-form h2 {\r\n    text-align: center;\r\n    color: #4b3832;\r\n    font-family: 'Arial', sans-serif;\r\n    font-size: 2em;\r\n    font-weight: bold;\r\n    margin-bottom: 20px;\r\n    text-transform: uppercase;\r\n    font-style: italic;\r\n  }\r\n  \r\n  .register-form div {\r\n    margin-bottom: 15px;\r\n  }\r\n  \r\n  .register-form label {\r\n    display: block;\r\n    margin-bottom: 5px;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .register-form input,\r\n  .register-form select {\r\n    width: 100%;\r\n    padding: 8px;\r\n    box-sizing: border-box;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n  }\r\n  \r\n  .register-form button {\r\n    display: block;\r\n    width: 100%;\r\n    padding: 10px;\r\n    background-color: #42b983;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 1em;\r\n  }\r\n  \r\n  .register-form button:hover {\r\n    background-color: #3a9d70;\r\n  }\r\n  \r\n  .error {\r\n    color: red;\r\n    font-size: 0.8em;\r\n  }\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}