{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\nimport { useRoute, useRouter } from 'vue-router';\nexport default {\n  __name: 'EditAmount',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const router = useRouter();\n    const chocolateId = Number(route.params.id);\n    const chocolate = ref({\n      id: chocolateId,\n      amount: 0\n    });\n    onMounted(() => {\n      loadChocolate();\n    });\n    function loadChocolate() {\n      axios.get(`http://localhost:3001/api/chocolates/${chocolateId}`).then(response => {\n        chocolate.value = response.data;\n      }).catch(error => {\n        console.error('Error fetching chocolate details:', error);\n      });\n    }\n    async function updateAmount() {\n      try {\n        const {\n          amount\n        } = chocolate.value;\n        await axios.put(`http://localhost:3001/api/chocolates/${chocolateId}`, {\n          amount\n        });\n        console.log('Chocolate amount successfully updated');\n        router.push({\n          name: 'FactoryDetailed',\n          params: {\n            id: route.params.factoryId\n          }\n        });\n      } catch (error) {\n        console.error('Error updating chocolate amount:', error);\n      }\n    }\n    const __returned__ = {\n      route,\n      router,\n      chocolateId,\n      chocolate,\n      loadChocolate,\n      updateAmount,\n      ref,\n      onMounted,\n      get axios() {\n        return axios;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","useRoute","useRouter","route","router","chocolateId","Number","params","id","chocolate","amount","loadChocolate","get","then","response","value","data","catch","error","console","updateAmount","put","log","push","name","factoryId"],"sources":["C:/Programiranje/veb/projekat/chocolate-factoryapp/Frontend/front-app/src/components/EditAmount.vue"],"sourcesContent":["<template>\r\n  <div class=\"edit-amount\">\r\n    <h1>Edit Chocolate Amount</h1>\r\n    <form @submit.prevent=\"updateAmount\">\r\n      <div>\r\n        <label for=\"amount\">Amount:</label>\r\n        <input type=\"number\" v-model.number=\"chocolate.amount\" required />\r\n      </div>\r\n      <button type=\"submit\">Update Amount</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport { useRoute, useRouter } from 'vue-router';\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst chocolateId = Number(route.params.id);\r\n\r\nconst chocolate = ref({\r\n  id: chocolateId,\r\n  amount: 0\r\n});\r\n\r\nonMounted(() => {\r\n  loadChocolate();\r\n});\r\n\r\nfunction loadChocolate() {\r\n  axios.get(`http://localhost:3001/api/chocolates/${chocolateId}`)\r\n    .then(response => {\r\n      chocolate.value = response.data;\r\n    })\r\n    .catch(error => {\r\n      console.error('Error fetching chocolate details:', error);\r\n    });\r\n}\r\n\r\nasync function updateAmount() {\r\n  try {\r\n    const { amount } = chocolate.value;\r\n    await axios.put(`http://localhost:3001/api/chocolates/${chocolateId}`, { amount });\r\n    console.log('Chocolate amount successfully updated');\r\n    router.push({ name: 'FactoryDetailed', params: { id: route.params.factoryId } });\r\n  } catch (error) {\r\n    console.error('Error updating chocolate amount:', error);\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.edit-amount {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n"],"mappings":";AAcA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAY;;;;;;;IAEhD,MAAMC,KAAK,GAAGF,QAAQ,CAAC,CAAC;IACxB,MAAMG,MAAM,GAAGF,SAAS,CAAC,CAAC;IAC1B,MAAMG,WAAW,GAAGC,MAAM,CAACH,KAAK,CAACI,MAAM,CAACC,EAAE,CAAC;IAE3C,MAAMC,SAAS,GAAGX,GAAG,CAAC;MACpBU,EAAE,EAAEH,WAAW;MACfK,MAAM,EAAE;IACV,CAAC,CAAC;IAEFX,SAAS,CAAC,MAAM;MACdY,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC;IAEF,SAASA,aAAaA,CAAA,EAAG;MACvBX,KAAK,CAACY,GAAG,CAAE,wCAAuCP,WAAY,EAAC,CAAC,CAC7DQ,IAAI,CAACC,QAAQ,IAAI;QAChBL,SAAS,CAACM,KAAK,GAAGD,QAAQ,CAACE,IAAI;MACjC,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MAC3D,CAAC,CAAC;IACN;IAEA,eAAeE,YAAYA,CAAA,EAAG;MAC5B,IAAI;QACF,MAAM;UAAEV;QAAO,CAAC,GAAGD,SAAS,CAACM,KAAK;QAClC,MAAMf,KAAK,CAACqB,GAAG,CAAE,wCAAuChB,WAAY,EAAC,EAAE;UAAEK;QAAO,CAAC,CAAC;QAClFS,OAAO,CAACG,GAAG,CAAC,uCAAuC,CAAC;QACpDlB,MAAM,CAACmB,IAAI,CAAC;UAAEC,IAAI,EAAE,iBAAiB;UAAEjB,MAAM,EAAE;YAAEC,EAAE,EAAEL,KAAK,CAACI,MAAM,CAACkB;UAAU;QAAE,CAAC,CAAC;MAClF,CAAC,CAAC,OAAOP,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAC1D;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}