{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\nimport { useRoute, useRouter } from 'vue-router';\nexport default {\n  __name: 'EditChocolate',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const router = useRouter();\n    const chocolateId = Number(route.params.id);\n    const factoryId = Number(route.params.factoryId);\n    const chocolate = ref({\n      id: chocolateId,\n      name: '',\n      price: '',\n      chocolateType: 'Normal',\n      chocolateVariety: 'Dark',\n      grams: '',\n      description: '',\n      picturePath: '',\n      status: 'unavailable',\n      amount: 0,\n      factoryId: factoryId\n    });\n    onMounted(() => {\n      loadChocolate();\n    });\n    function loadChocolate() {\n      axios.get(`http://localhost:3001/api/chocolates/${chocolateId}`).then(response => {\n        chocolate.value = response.data;\n      }).catch(error => {\n        console.error('Error fetching chocolate details:', error);\n      });\n    }\n    function handleSubmit() {\n      const url = `http://localhost:3001/api/chocolates/${chocolate.value.id}`;\n      const updatedChocolate = {\n        ...chocolate.value,\n        factoryId: Number(chocolate.value.factoryId),\n        id: Number(chocolate.value.id)\n      };\n      axios.put(url, updatedChocolate).then(response => {\n        console.log('Chocolate successfully updated:', response.data);\n        router.push(`/factory-detailed/${chocolate.value.factoryId}`);\n      }).catch(error => {\n        console.error('There was an error updating the chocolate!', error);\n      });\n    }\n    const __returned__ = {\n      route,\n      router,\n      chocolateId,\n      factoryId,\n      chocolate,\n      loadChocolate,\n      handleSubmit,\n      ref,\n      onMounted,\n      get axios() {\n        return axios;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","useRoute","useRouter","route","router","chocolateId","Number","params","id","factoryId","chocolate","name","price","chocolateType","chocolateVariety","grams","description","picturePath","status","amount","loadChocolate","get","then","response","value","data","catch","error","console","handleSubmit","url","updatedChocolate","put","log","push"],"sources":["C:/FTN/treca/drugi_sem/veb/chocolate-factoryapp/Frontend/front-app/src/components/EditChocolate.vue"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"handleSubmit\" class=\"edit-chocolate-form\">\r\n    <h2>Edit Chocolate</h2>\r\n    <div>\r\n      <label>Name:</label>\r\n      <input type=\"text\" v-model=\"chocolate.name\" />\r\n    </div>\r\n    <div>\r\n      <label>Price:</label>\r\n      <input type=\"number\" v-model=\"chocolate.price\" />\r\n    </div>\r\n    <div>\r\n      <label>Grams:</label>\r\n      <input type=\"number\" v-model=\"chocolate.grams\" />\r\n    </div>\r\n    <div>\r\n      <label>Description:</label>\r\n      <input type=\"text\" v-model=\"chocolate.description\" />\r\n    </div>\r\n    <div>\r\n      <label>Photo URL:</label>\r\n      <input type=\"text\" v-model=\"chocolate.picturePath\" />\r\n    </div>\r\n    <div>\r\n      <label>Chocolate Type:</label>\r\n      <select v-model=\"chocolate.chocolateType\">\r\n        <option value=\"Normal\">Normal</option>\r\n        <option value=\"Drink\">Drink</option>\r\n        <option value=\"Cooking\">Cooking</option>\r\n      </select>\r\n    </div>\r\n    <div>\r\n      <label>Chocolate Variety:</label>\r\n      <select v-model=\"chocolate.chocolateVariety\">\r\n        <option value=\"Milk\">Milk</option>\r\n        <option value=\"Dark\">Dark</option>\r\n        <option value=\"White\">White</option>\r\n        <option value=\"Nuts\">Nuts</option>\r\n        <option value=\"Nougat\">Nougat</option>\r\n        <option value=\"Raisins\">Raisins</option>\r\n      </select>\r\n    </div>\r\n    <button type=\"submit\">Update Chocolate</button>\r\n  </form>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport { useRoute, useRouter } from 'vue-router';\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst chocolateId = Number(route.params.id);\r\nconst factoryId = Number(route.params.factoryId);\r\n\r\nconst chocolate = ref({\r\n  id: chocolateId,\r\n  name: '',\r\n  price: '',\r\n  chocolateType: 'Normal',\r\n  chocolateVariety: 'Dark',\r\n  grams: '',\r\n  description: '',\r\n  picturePath: '',\r\n  status: 'unavailable',\r\n  amount: 0,\r\n  factoryId: factoryId\r\n});\r\n\r\nonMounted(() => {\r\n  loadChocolate();\r\n});\r\n\r\nfunction loadChocolate() {\r\n  axios.get(`http://localhost:3001/api/chocolates/${chocolateId}`)\r\n    .then(response => {\r\n      chocolate.value = response.data;\r\n    })\r\n    .catch(error => {\r\n      console.error('Error fetching chocolate details:', error);\r\n    });\r\n}\r\n\r\nfunction handleSubmit() {\r\n  const url = `http://localhost:3001/api/chocolates/${chocolate.value.id}`;\r\n  const updatedChocolate = { ...chocolate.value, factoryId: Number(chocolate.value.factoryId), id: Number(chocolate.value.id) };\r\n  axios.put(url, updatedChocolate)\r\n    .then(response => {\r\n      console.log('Chocolate successfully updated:', response.data);\r\n      router.push(`/factory-detailed/${chocolate.value.factoryId}`);\r\n    })\r\n    .catch(error => {\r\n      console.error('There was an error updating the chocolate!', error);\r\n    });\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.edit-chocolate-form {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background-color: #f5f5f5;\r\n  border-radius: 10px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.edit-chocolate-form h2 {\r\n  text-align: center;\r\n  color: #4b3832;\r\n  font-family: 'Arial', sans-serif;\r\n  font-size: 2em;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n  text-transform: uppercase; \r\n  font-style: italic;\r\n}\r\n\r\n.edit-chocolate-form div {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.edit-chocolate-form label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n}\r\n\r\n.edit-chocolate-form input, .edit-chocolate-form select {\r\n  width: 100%;\r\n  padding: 8px;\r\n  box-sizing: border-box;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n}\r\n\r\n.edit-chocolate-form button {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 1em;\r\n}\r\n\r\n.edit-chocolate-form button:hover {\r\n  background-color: #3a9d70;\r\n}\r\n</style>\r\n"],"mappings":";AA+CA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAY;;;;;;;IAEhD,MAAMC,KAAK,GAAGF,QAAQ,CAAC,CAAC;IACxB,MAAMG,MAAM,GAAGF,SAAS,CAAC,CAAC;IAC1B,MAAMG,WAAW,GAAGC,MAAM,CAACH,KAAK,CAACI,MAAM,CAACC,EAAE,CAAC;IAC3C,MAAMC,SAAS,GAAGH,MAAM,CAACH,KAAK,CAACI,MAAM,CAACE,SAAS,CAAC;IAEhD,MAAMC,SAAS,GAAGZ,GAAG,CAAC;MACpBU,EAAE,EAAEH,WAAW;MACfM,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,aAAa,EAAE,QAAQ;MACvBC,gBAAgB,EAAE,MAAM;MACxBC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,EAAE;MACfC,MAAM,EAAE,aAAa;MACrBC,MAAM,EAAE,CAAC;MACTV,SAAS,EAAEA;IACb,CAAC,CAAC;IAEFV,SAAS,CAAC,MAAM;MACdqB,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC;IAEF,SAASA,aAAaA,CAAA,EAAG;MACvBpB,KAAK,CAACqB,GAAG,CAAE,wCAAuChB,WAAY,EAAC,CAAC,CAC7DiB,IAAI,CAACC,QAAQ,IAAI;QAChBb,SAAS,CAACc,KAAK,GAAGD,QAAQ,CAACE,IAAI;MACjC,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MAC3D,CAAC,CAAC;IACN;IAEA,SAASE,YAAYA,CAAA,EAAG;MACtB,MAAMC,GAAG,GAAI,wCAAuCpB,SAAS,CAACc,KAAK,CAAChB,EAAG,EAAC;MACxE,MAAMuB,gBAAgB,GAAG;QAAE,GAAGrB,SAAS,CAACc,KAAK;QAAEf,SAAS,EAAEH,MAAM,CAACI,SAAS,CAACc,KAAK,CAACf,SAAS,CAAC;QAAED,EAAE,EAAEF,MAAM,CAACI,SAAS,CAACc,KAAK,CAAChB,EAAE;MAAE,CAAC;MAC7HR,KAAK,CAACgC,GAAG,CAACF,GAAG,EAAEC,gBAAgB,CAAC,CAC7BT,IAAI,CAACC,QAAQ,IAAI;QAChBK,OAAO,CAACK,GAAG,CAAC,iCAAiC,EAAEV,QAAQ,CAACE,IAAI,CAAC;QAC7DrB,MAAM,CAAC8B,IAAI,CAAE,qBAAoBxB,SAAS,CAACc,KAAK,CAACf,SAAU,EAAC,CAAC;MAC/D,CAAC,CAAC,CACDiB,KAAK,CAACC,KAAK,IAAI;QACdC,OAAO,CAACD,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MACpE,CAAC,CAAC;IACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}