{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nexport default {\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const isAuthenticated = computed(() => store.getters.isAuthenticated);\n    const token = store.state.token; // Get token from the store\n\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    const role = payload.role;\n    const logout = () => {\n      store.dispatch('logout');\n      router.push('/login');\n    };\n    return {\n      isAuthenticated,\n      logout\n    };\n  }\n};","map":{"version":3,"names":["computed","useStore","useRouter","setup","store","router","isAuthenticated","getters","token","state","payload","JSON","parse","atob","split","role","logout","dispatch","push"],"sources":["C:\\FTN\\treca\\drugi_sem\\veb\\chocolate-factoryapp\\Frontend\\front-app\\src\\App.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <nav>\r\n      <router-link to=\"/\">Home</router-link> |\r\n      <router-link to=\"/factories\">Factories</router-link> |\r\n      <router-link to=\"/add-factory\">Add Factory</router-link>|\r\n      <router-link v-if=\"isAuthenticated\" to=\"/cart\">Cart</router-link>|\r\n      <router-link v-if=\"!isAuthenticated\" to=\"/login\">Login</router-link> |\r\n      <router-link v-if=\"!isAuthenticated\" to=\"/register\">Register</router-link> |\r\n      <button v-if=\"isAuthenticated\" @click=\"logout\">Logout</button>\r\n      <router-link v-if=\"isAuthenticated\" to=\"/profile\">Profile</router-link> |\r\n      <router-link v-if=\"isAuthenticated && role==='Administrator' \" to=\"/registerManager\">Create Manager</router-link>\r\n    </nav>\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  setup() {\r\n    const store = useStore();\r\n    const router = useRouter();\r\n    const isAuthenticated = computed(() => store.getters.isAuthenticated);\r\n\r\n\r\n    const token = store.state.token; // Get token from the store\r\n    \r\n    const payload = JSON.parse(atob(token.split('.')[1]));\r\n    const role = payload.role;\r\n\r\n    const logout = () => {\r\n      store.dispatch('logout');\r\n      router.push('/login');\r\n    };\r\n\r\n    return {\r\n      isAuthenticated,\r\n      logout\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Arial', sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  background-color: #D2B48C; /* svetlija braon boja */\r\n  min-height: 100vh;\r\n}\r\n\r\nnav {\r\n  padding: 30px;\r\n}\r\n\r\nnav a {\r\n  font-weight: bold;\r\n  color: #2c3e50;\r\n  text-decoration: none;\r\n  padding: 0 15px;\r\n  font-size: 1.2em; /* poveÄ‡an font */\r\n  transition: color 0.3s;\r\n}\r\n\r\nnav a.router-link-exact-active {\r\n  color: #4b3832; /* tamno braon boja */\r\n}\r\n\r\nnav a:hover {\r\n  color: #FFD700; /* zlatna boja na hover */\r\n}\r\n</style>\r\n"],"mappings":";;AAkBA,SAASA,QAAO,QAAS,KAAK;AAC9B,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIH,QAAQ,CAAC,CAAC;IACxB,MAAMI,MAAK,GAAIH,SAAS,CAAC,CAAC;IAC1B,MAAMI,eAAc,GAAIN,QAAQ,CAAC,MAAMI,KAAK,CAACG,OAAO,CAACD,eAAe,CAAC;IAGrE,MAAME,KAAI,GAAIJ,KAAK,CAACK,KAAK,CAACD,KAAK,EAAE;;IAEjC,MAAME,OAAM,GAAIC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACL,KAAK,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,MAAMC,IAAG,GAAIL,OAAO,CAACK,IAAI;IAEzB,MAAMC,MAAK,GAAIA,CAAA,KAAM;MACnBZ,KAAK,CAACa,QAAQ,CAAC,QAAQ,CAAC;MACxBZ,MAAM,CAACa,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,OAAO;MACLZ,eAAe;MACfU;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}