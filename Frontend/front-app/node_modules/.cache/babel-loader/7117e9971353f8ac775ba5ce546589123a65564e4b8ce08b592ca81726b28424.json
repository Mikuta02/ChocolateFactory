{"ast":null,"code":"import _defineProperty from \"C:/Programiranje/veb/projekat/chocolate-factoryapp/Frontend/front-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.array.push.js\";\n/**\r\n * @module ol/render/canvas/ZIndexContext\r\n */\n\nimport { getSharedCanvasContext2D } from '../../dom.js';\n\n/** @typedef {CanvasRenderingContext2D & {globalAlpha: any}} ZIndexContextProxy */\n\n/**\r\n * @extends {CanvasRenderingContext2D}\r\n */\nclass ZIndexContext {\n  constructor() {\n    /**\r\n     * @private\r\n     * @param {...*} args Args.\r\n     * @return {ZIndexContext} This.\r\n     */\n    _defineProperty(this, \"pushMethodArgs_\", (...args) => {\n      this.instructions_[this.zIndex + this.offset_].push(args);\n      return this;\n    });\n    /**\r\n     * @private\r\n     * @type {Array<Array<*>>}\r\n     */\n    this.instructions_ = [];\n    /**\r\n     * @type {number}\r\n     */\n    this.zIndex = 0;\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\n    this.offset_ = 0;\n\n    /**\r\n     * @type {ZIndexContextProxy}\r\n     */\n    this.context_ = /** @type {ZIndexContextProxy} */\n    new Proxy(getSharedCanvasContext2D(), {\n      get: (target, property) => {\n        if (typeof ( /** @type {*} */getSharedCanvasContext2D()[property]) !== 'function') {\n          // we only accept calling functions on the proxy, not accessing properties\n          return undefined;\n        }\n        if (!this.instructions_[this.zIndex + this.offset_]) {\n          this.instructions_[this.zIndex + this.offset_] = [];\n        }\n        this.instructions_[this.zIndex + this.offset_].push(property);\n        return this.pushMethodArgs_;\n      },\n      set: (target, property, value) => {\n        if (!this.instructions_[this.zIndex + this.offset_]) {\n          this.instructions_[this.zIndex + this.offset_] = [];\n        }\n        this.instructions_[this.zIndex + this.offset_].push(property, value);\n        return true;\n      }\n    });\n  }\n  /**\r\n   * Push a function that renders to the context directly.\r\n   * @param {function(CanvasRenderingContext2D): void} render Function.\r\n   */\n  pushFunction(render) {\n    this.instructions_[this.zIndex + this.offset_].push(render);\n  }\n\n  /**\r\n   * Get a proxy for CanvasRenderingContext2D which does not support getting state\r\n   * (e.g. `context.globalAlpha`, which will return `undefined`). To set state, if it relies on a\r\n   * previous state (e.g. `context.globalAlpha = context.globalAlpha / 2`), set a function,\r\n   * e.g. `context.globalAlpha = (context) => context.globalAlpha / 2`.\r\n   * @return {ZIndexContextProxy} Context.\r\n   */\n  getContext() {\n    return this.context_;\n  }\n\n  /**\r\n   * @param {CanvasRenderingContext2D} context Context.\r\n   */\n  draw(context) {\n    this.instructions_.forEach(instructionsAtIndex => {\n      for (let i = 0, ii = instructionsAtIndex.length; i < ii; ++i) {\n        const property = instructionsAtIndex[i];\n        if (typeof property === 'function') {\n          property(context);\n          continue;\n        }\n        const instructionAtIndex = instructionsAtIndex[++i];\n        if (typeof ( /** @type {*} */context[property]) === 'function') {\n          /** @type {*} */context[property](...instructionAtIndex);\n        } else {\n          if (typeof instructionAtIndex === 'function') {\n            /** @type {*} */context[property] = instructionAtIndex(context);\n            continue;\n          }\n          /** @type {*} */\n          context[property] = instructionAtIndex;\n        }\n      }\n    });\n  }\n  clear() {\n    this.instructions_.length = 0;\n    this.zIndex = 0;\n    this.offset_ = 0;\n  }\n\n  /**\r\n   * Offsets the zIndex by the highest current zIndex. Useful for rendering multiple worlds or tiles, to\r\n   * avoid conflicting context.clip() or context.save()/restore() calls.\r\n   */\n  offset() {\n    this.offset_ = this.instructions_.length;\n    this.zIndex = 0;\n  }\n}\nexport default ZIndexContext;","map":{"version":3,"names":["getSharedCanvasContext2D","ZIndexContext","constructor","_defineProperty","args","instructions_","zIndex","offset_","push","context_","Proxy","get","target","property","undefined","pushMethodArgs_","set","value","pushFunction","render","getContext","draw","context","forEach","instructionsAtIndex","i","ii","length","instructionAtIndex","clear","offset"],"sources":["C:/Programiranje/veb/projekat/chocolate-factoryapp/Frontend/front-app/node_modules/ol/render/canvas/ZIndexContext.js"],"sourcesContent":["/**\r\n * @module ol/render/canvas/ZIndexContext\r\n */\r\n\r\nimport {getSharedCanvasContext2D} from '../../dom.js';\r\n\r\n/** @typedef {CanvasRenderingContext2D & {globalAlpha: any}} ZIndexContextProxy */\r\n\r\n/**\r\n * @extends {CanvasRenderingContext2D}\r\n */\r\nclass ZIndexContext {\r\n  constructor() {\r\n    /**\r\n     * @private\r\n     * @type {Array<Array<*>>}\r\n     */\r\n    this.instructions_ = [];\r\n    /**\r\n     * @type {number}\r\n     */\r\n    this.zIndex = 0;\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.offset_ = 0;\r\n\r\n    /**\r\n     * @type {ZIndexContextProxy}\r\n     */\r\n    this.context_ = /** @type {ZIndexContextProxy} */ (\r\n      new Proxy(getSharedCanvasContext2D(), {\r\n        get: (target, property) => {\r\n          if (\r\n            typeof (/** @type {*} */ (getSharedCanvasContext2D())[property]) !==\r\n            'function'\r\n          ) {\r\n            // we only accept calling functions on the proxy, not accessing properties\r\n            return undefined;\r\n          }\r\n          if (!this.instructions_[this.zIndex + this.offset_]) {\r\n            this.instructions_[this.zIndex + this.offset_] = [];\r\n          }\r\n          this.instructions_[this.zIndex + this.offset_].push(property);\r\n          return this.pushMethodArgs_;\r\n        },\r\n        set: (target, property, value) => {\r\n          if (!this.instructions_[this.zIndex + this.offset_]) {\r\n            this.instructions_[this.zIndex + this.offset_] = [];\r\n          }\r\n          this.instructions_[this.zIndex + this.offset_].push(property, value);\r\n          return true;\r\n        },\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {...*} args Args.\r\n   * @return {ZIndexContext} This.\r\n   */\r\n  pushMethodArgs_ = (...args) => {\r\n    this.instructions_[this.zIndex + this.offset_].push(args);\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * Push a function that renders to the context directly.\r\n   * @param {function(CanvasRenderingContext2D): void} render Function.\r\n   */\r\n  pushFunction(render) {\r\n    this.instructions_[this.zIndex + this.offset_].push(render);\r\n  }\r\n\r\n  /**\r\n   * Get a proxy for CanvasRenderingContext2D which does not support getting state\r\n   * (e.g. `context.globalAlpha`, which will return `undefined`). To set state, if it relies on a\r\n   * previous state (e.g. `context.globalAlpha = context.globalAlpha / 2`), set a function,\r\n   * e.g. `context.globalAlpha = (context) => context.globalAlpha / 2`.\r\n   * @return {ZIndexContextProxy} Context.\r\n   */\r\n  getContext() {\r\n    return this.context_;\r\n  }\r\n\r\n  /**\r\n   * @param {CanvasRenderingContext2D} context Context.\r\n   */\r\n  draw(context) {\r\n    this.instructions_.forEach((instructionsAtIndex) => {\r\n      for (let i = 0, ii = instructionsAtIndex.length; i < ii; ++i) {\r\n        const property = instructionsAtIndex[i];\r\n        if (typeof property === 'function') {\r\n          property(context);\r\n          continue;\r\n        }\r\n        const instructionAtIndex = instructionsAtIndex[++i];\r\n        if (typeof (/** @type {*} */ (context)[property]) === 'function') {\r\n          /** @type {*} */ (context)[property](...instructionAtIndex);\r\n        } else {\r\n          if (typeof instructionAtIndex === 'function') {\r\n            /** @type {*} */ (context)[property] = instructionAtIndex(context);\r\n            continue;\r\n          }\r\n          /** @type {*} */ (context)[property] = instructionAtIndex;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  clear() {\r\n    this.instructions_.length = 0;\r\n    this.zIndex = 0;\r\n    this.offset_ = 0;\r\n  }\r\n\r\n  /**\r\n   * Offsets the zIndex by the highest current zIndex. Useful for rendering multiple worlds or tiles, to\r\n   * avoid conflicting context.clip() or context.save()/restore() calls.\r\n   */\r\n  offset() {\r\n    this.offset_ = this.instructions_.length;\r\n    this.zIndex = 0;\r\n  }\r\n}\r\n\r\nexport default ZIndexContext;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}