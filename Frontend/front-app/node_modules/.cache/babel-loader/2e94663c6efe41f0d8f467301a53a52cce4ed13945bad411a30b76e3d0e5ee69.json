{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-8387779c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"edit-amount\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Edit Chocolate Amount\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"amount\"\n}, \"Amount:\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Update Amount\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  key: 0,\n  class: \"success-message\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"error-message\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.updateAmount, [\"prevent\"])\n  }, [_createElementVNode(\"div\", null, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"amount\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.amount = $event),\n    required: \"\",\n    min: \"1\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.amount, void 0, {\n    number: true\n  }]]), _createCommentVNode(\" Dodajte min=\\\"1\\\" kako bi se obezbedilo da je amount pozitivan broj \")]), _hoisted_4], 32 /* NEED_HYDRATION */), _createCommentVNode(\" Prikaz korisničkih poruka o uspehu ili grešci \"), $setup.successMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString($setup.successMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $setup.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString($setup.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","key","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_withModifiers","$setup","updateAmount","_hoisted_3","id","_cache","$event","amount","required","min","number","_createCommentVNode","_hoisted_4","successMessage","_hoisted_5","_toDisplayString","errorMessage","_hoisted_6"],"sources":["C:\\Programiranje\\veb\\projekat\\chocolate-factoryapp\\Frontend\\front-app\\src\\components\\EditAmount.vue"],"sourcesContent":["<template>\r\n  <div class=\"edit-amount\">\r\n    <h1>Edit Chocolate Amount</h1>\r\n    <form @submit.prevent=\"updateAmount\">\r\n      <div>\r\n        <label for=\"amount\">Amount:</label>\r\n        <input type=\"number\" id=\"amount\" v-model.number=\"amount\" required min=\"1\" />\r\n        <!-- Dodajte min=\"1\" kako bi se obezbedilo da je amount pozitivan broj -->\r\n      </div>\r\n      <button type=\"submit\">Update Amount</button>\r\n    </form>\r\n    <!-- Prikaz korisničkih poruka o uspehu ili grešci -->\r\n    <div v-if=\"successMessage\" class=\"success-message\">{{ successMessage }}</div>\r\n    <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport axios from 'axios';\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst amount = ref(0);\r\nconst successMessage = ref('');\r\nconst errorMessage = ref('');\r\n\r\nonMounted(() => {\r\n  loadChocolate();\r\n});\r\n\r\nfunction loadChocolate() {\r\n  const chocolateId = route.params.id;\r\n  axios.get(`http://localhost:3001/api/chocolates/${chocolateId}`)\r\n    .then(response => {\r\n      amount.value = response.data.amount;\r\n    })\r\n    .catch(error => {\r\n      console.error('Error fetching chocolate details:', error);\r\n    });\r\n}\r\n\r\nfunction updateAmount() {\r\n  const chocolateId = route.params.id;\r\n  axios.put(`http://localhost:3001/api/chocolates/${chocolateId}`, { amount: amount.value })\r\n    .then(() => {\r\n      successMessage.value = 'Amount updated successfully';\r\n      errorMessage.value = ''; // Clear any previous errors\r\n      // Optionally, reset the form or navigate to another route after successful update\r\n      // router.push({ name: 'FactoryDetailed', params: { id: route.params.factoryId } });\r\n    })\r\n    .catch(error => {\r\n      errorMessage.value = 'Failed to update amount'; // Display error message\r\n      console.error('Error updating amount:', error);\r\n    });\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.edit-amount {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.success-message, .error-message {\r\n  margin-top: 10px;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.success-message {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.error-message {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAa;gEACtBC,mBAAA,CAA8B,YAA1B,uBAAqB;gEAGrBA,mBAAA,CAAmC;EAA5BC,GAAG,EAAC;AAAQ,GAAC,SAAO;gEAI7BD,mBAAA,CAA4C;EAApCE,IAAI,EAAC;AAAQ,GAAC,eAAa;;EATzCC,GAAA;EAY+BJ,KAAK,EAAC;;;EAZrCI,GAAA;EAa6BJ,KAAK,EAAC;;;uBAZjCK,mBAAA,CAaM,OAbNC,UAaM,GAZJC,UAA8B,EAC9BN,mBAAA,CAOO;IAPAO,QAAM,EAHjBC,cAAA,CAG2BC,MAAA,CAAAC,YAAY;MACjCV,mBAAA,CAIM,cAHJW,UAAmC,E,gBACnCX,mBAAA,CAA4E;IAArEE,IAAI,EAAC,QAAQ;IAACU,EAAE,EAAC,QAAQ;IANxC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAMyDL,MAAA,CAAAM,MAAM,GAAAD,MAAA;IAAEE,QAAQ,EAAR,EAAQ;IAACC,GAAG,EAAC;iDAArBR,MAAA,CAAAM,MAAM,E;IAN/DG,MAAA,EAMyC;EAAuB,E,IACxDC,mBAAA,yEAA0E,C,GAE5EC,UAA4C,C,4BAE9CD,mBAAA,mDAAsD,EAC3CV,MAAA,CAAAY,cAAc,I,cAAzBjB,mBAAA,CAA6E,OAA7EkB,UAA6E,EAAAC,gBAAA,CAAvBd,MAAA,CAAAY,cAAc,oBAZxEF,mBAAA,gBAaeV,MAAA,CAAAe,YAAY,I,cAAvBpB,mBAAA,CAAuE,OAAvEqB,UAAuE,EAAAF,gBAAA,CAArBd,MAAA,CAAAe,YAAY,oBAblEL,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}