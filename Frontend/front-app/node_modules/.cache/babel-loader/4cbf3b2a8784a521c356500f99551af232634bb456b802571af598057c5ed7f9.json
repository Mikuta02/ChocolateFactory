{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\r\n * @module ol/render/canvas/LineStringBuilder\r\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction, { beginPathInstruction, strokeInstruction } from './Instruction.js';\nimport { defaultLineDash, defaultLineDashOffset } from '../canvas.js';\nclass CanvasLineStringBuilder extends CanvasBuilder {\n  /**\r\n   * @param {number} tolerance Tolerance.\r\n   * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   */\n  constructor(tolerance, maxExtent, resolution, pixelRatio) {\n    super(tolerance, maxExtent, resolution, pixelRatio);\n  }\n\n  /**\r\n   * @param {Array<number>} flatCoordinates Flat coordinates.\r\n   * @param {number} offset Offset.\r\n   * @param {number} end End.\r\n   * @param {number} stride Stride.\r\n   * @private\r\n   * @return {number} end.\r\n   */\n  drawFlatCoordinates_(flatCoordinates, offset, end, stride) {\n    const myBegin = this.coordinates.length;\n    const myEnd = this.appendFlatLineCoordinates(flatCoordinates, offset, end, stride, false, false);\n    const moveToLineToInstruction = [CanvasInstruction.MOVE_TO_LINE_TO, myBegin, myEnd];\n    this.instructions.push(moveToLineToInstruction);\n    this.hitDetectionInstructions.push(moveToLineToInstruction);\n    return end;\n  }\n\n  /**\r\n   * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} lineStringGeometry Line string geometry.\r\n   * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\r\n   * @param {number} [index] Render order index.\r\n   */\n  drawLineString(lineStringGeometry, feature, index) {\n    const state = this.state;\n    const strokeStyle = state.strokeStyle;\n    const lineWidth = state.lineWidth;\n    if (strokeStyle === undefined || lineWidth === undefined) {\n      return;\n    }\n    this.updateStrokeStyle(state, this.applyStroke);\n    this.beginGeometry(lineStringGeometry, feature, index);\n    this.hitDetectionInstructions.push([CanvasInstruction.SET_STROKE_STYLE, state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin, state.miterLimit, defaultLineDash, defaultLineDashOffset], beginPathInstruction);\n    const flatCoordinates = lineStringGeometry.getFlatCoordinates();\n    const stride = lineStringGeometry.getStride();\n    this.drawFlatCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n    this.hitDetectionInstructions.push(strokeInstruction);\n    this.endGeometry(feature);\n  }\n\n  /**\r\n   * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} multiLineStringGeometry MultiLineString geometry.\r\n   * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\r\n   * @param {number} [index] Render order index.\r\n   */\n  drawMultiLineString(multiLineStringGeometry, feature, index) {\n    const state = this.state;\n    const strokeStyle = state.strokeStyle;\n    const lineWidth = state.lineWidth;\n    if (strokeStyle === undefined || lineWidth === undefined) {\n      return;\n    }\n    this.updateStrokeStyle(state, this.applyStroke);\n    this.beginGeometry(multiLineStringGeometry, feature, index);\n    this.hitDetectionInstructions.push([CanvasInstruction.SET_STROKE_STYLE, state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin, state.miterLimit, defaultLineDash, defaultLineDashOffset], beginPathInstruction);\n    const ends = multiLineStringGeometry.getEnds();\n    const flatCoordinates = multiLineStringGeometry.getFlatCoordinates();\n    const stride = multiLineStringGeometry.getStride();\n    let offset = 0;\n    for (let i = 0, ii = ends.length; i < ii; ++i) {\n      offset = this.drawFlatCoordinates_(flatCoordinates, offset, /** @type {number} */ends[i], stride);\n    }\n    this.hitDetectionInstructions.push(strokeInstruction);\n    this.endGeometry(feature);\n  }\n\n  /**\r\n   * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\r\n   */\n  finish() {\n    const state = this.state;\n    if (state.lastStroke != undefined && state.lastStroke != this.coordinates.length) {\n      this.instructions.push(strokeInstruction);\n    }\n    this.reverseHitDetectionInstructions();\n    this.state = null;\n    return super.finish();\n  }\n\n  /**\r\n   * @param {import(\"../canvas.js\").FillStrokeState} state State.\r\n   */\n  applyStroke(state) {\n    if (state.lastStroke != undefined && state.lastStroke != this.coordinates.length) {\n      this.instructions.push(strokeInstruction);\n      state.lastStroke = this.coordinates.length;\n    }\n    state.lastStroke = 0;\n    super.applyStroke(state);\n    this.instructions.push(beginPathInstruction);\n  }\n}\nexport default CanvasLineStringBuilder;","map":{"version":3,"names":["CanvasBuilder","CanvasInstruction","beginPathInstruction","strokeInstruction","defaultLineDash","defaultLineDashOffset","CanvasLineStringBuilder","constructor","tolerance","maxExtent","resolution","pixelRatio","drawFlatCoordinates_","flatCoordinates","offset","end","stride","myBegin","coordinates","length","myEnd","appendFlatLineCoordinates","moveToLineToInstruction","MOVE_TO_LINE_TO","instructions","push","hitDetectionInstructions","drawLineString","lineStringGeometry","feature","index","state","strokeStyle","lineWidth","undefined","updateStrokeStyle","applyStroke","beginGeometry","SET_STROKE_STYLE","lineCap","lineJoin","miterLimit","getFlatCoordinates","getStride","endGeometry","drawMultiLineString","multiLineStringGeometry","ends","getEnds","i","ii","finish","lastStroke","reverseHitDetectionInstructions"],"sources":["C:/Programiranje/veb/projekat/chocolate-factoryapp/Frontend/front-app/node_modules/ol/render/canvas/LineStringBuilder.js"],"sourcesContent":["/**\r\n * @module ol/render/canvas/LineStringBuilder\r\n */\r\nimport CanvasBuilder from './Builder.js';\r\nimport CanvasInstruction, {\r\n  beginPathInstruction,\r\n  strokeInstruction,\r\n} from './Instruction.js';\r\nimport {defaultLineDash, defaultLineDashOffset} from '../canvas.js';\r\n\r\nclass CanvasLineStringBuilder extends CanvasBuilder {\r\n  /**\r\n   * @param {number} tolerance Tolerance.\r\n   * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   */\r\n  constructor(tolerance, maxExtent, resolution, pixelRatio) {\r\n    super(tolerance, maxExtent, resolution, pixelRatio);\r\n  }\r\n\r\n  /**\r\n   * @param {Array<number>} flatCoordinates Flat coordinates.\r\n   * @param {number} offset Offset.\r\n   * @param {number} end End.\r\n   * @param {number} stride Stride.\r\n   * @private\r\n   * @return {number} end.\r\n   */\r\n  drawFlatCoordinates_(flatCoordinates, offset, end, stride) {\r\n    const myBegin = this.coordinates.length;\r\n    const myEnd = this.appendFlatLineCoordinates(\r\n      flatCoordinates,\r\n      offset,\r\n      end,\r\n      stride,\r\n      false,\r\n      false,\r\n    );\r\n    const moveToLineToInstruction = [\r\n      CanvasInstruction.MOVE_TO_LINE_TO,\r\n      myBegin,\r\n      myEnd,\r\n    ];\r\n    this.instructions.push(moveToLineToInstruction);\r\n    this.hitDetectionInstructions.push(moveToLineToInstruction);\r\n    return end;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} lineStringGeometry Line string geometry.\r\n   * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\r\n   * @param {number} [index] Render order index.\r\n   */\r\n  drawLineString(lineStringGeometry, feature, index) {\r\n    const state = this.state;\r\n    const strokeStyle = state.strokeStyle;\r\n    const lineWidth = state.lineWidth;\r\n    if (strokeStyle === undefined || lineWidth === undefined) {\r\n      return;\r\n    }\r\n    this.updateStrokeStyle(state, this.applyStroke);\r\n    this.beginGeometry(lineStringGeometry, feature, index);\r\n    this.hitDetectionInstructions.push(\r\n      [\r\n        CanvasInstruction.SET_STROKE_STYLE,\r\n        state.strokeStyle,\r\n        state.lineWidth,\r\n        state.lineCap,\r\n        state.lineJoin,\r\n        state.miterLimit,\r\n        defaultLineDash,\r\n        defaultLineDashOffset,\r\n      ],\r\n      beginPathInstruction,\r\n    );\r\n    const flatCoordinates = lineStringGeometry.getFlatCoordinates();\r\n    const stride = lineStringGeometry.getStride();\r\n    this.drawFlatCoordinates_(\r\n      flatCoordinates,\r\n      0,\r\n      flatCoordinates.length,\r\n      stride,\r\n    );\r\n    this.hitDetectionInstructions.push(strokeInstruction);\r\n    this.endGeometry(feature);\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} multiLineStringGeometry MultiLineString geometry.\r\n   * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\r\n   * @param {number} [index] Render order index.\r\n   */\r\n  drawMultiLineString(multiLineStringGeometry, feature, index) {\r\n    const state = this.state;\r\n    const strokeStyle = state.strokeStyle;\r\n    const lineWidth = state.lineWidth;\r\n    if (strokeStyle === undefined || lineWidth === undefined) {\r\n      return;\r\n    }\r\n    this.updateStrokeStyle(state, this.applyStroke);\r\n    this.beginGeometry(multiLineStringGeometry, feature, index);\r\n    this.hitDetectionInstructions.push(\r\n      [\r\n        CanvasInstruction.SET_STROKE_STYLE,\r\n        state.strokeStyle,\r\n        state.lineWidth,\r\n        state.lineCap,\r\n        state.lineJoin,\r\n        state.miterLimit,\r\n        defaultLineDash,\r\n        defaultLineDashOffset,\r\n      ],\r\n      beginPathInstruction,\r\n    );\r\n    const ends = multiLineStringGeometry.getEnds();\r\n    const flatCoordinates = multiLineStringGeometry.getFlatCoordinates();\r\n    const stride = multiLineStringGeometry.getStride();\r\n    let offset = 0;\r\n    for (let i = 0, ii = ends.length; i < ii; ++i) {\r\n      offset = this.drawFlatCoordinates_(\r\n        flatCoordinates,\r\n        offset,\r\n        /** @type {number} */ (ends[i]),\r\n        stride,\r\n      );\r\n    }\r\n    this.hitDetectionInstructions.push(strokeInstruction);\r\n    this.endGeometry(feature);\r\n  }\r\n\r\n  /**\r\n   * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\r\n   */\r\n  finish() {\r\n    const state = this.state;\r\n    if (\r\n      state.lastStroke != undefined &&\r\n      state.lastStroke != this.coordinates.length\r\n    ) {\r\n      this.instructions.push(strokeInstruction);\r\n    }\r\n    this.reverseHitDetectionInstructions();\r\n    this.state = null;\r\n    return super.finish();\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../canvas.js\").FillStrokeState} state State.\r\n   */\r\n  applyStroke(state) {\r\n    if (\r\n      state.lastStroke != undefined &&\r\n      state.lastStroke != this.coordinates.length\r\n    ) {\r\n      this.instructions.push(strokeInstruction);\r\n      state.lastStroke = this.coordinates.length;\r\n    }\r\n    state.lastStroke = 0;\r\n    super.applyStroke(state);\r\n    this.instructions.push(beginPathInstruction);\r\n  }\r\n}\r\n\r\nexport default CanvasLineStringBuilder;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}